<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=menu" />
    <link rel="stylesheet" href="../css/style_paginas_secundarias.css">
    <link rel="stylesheet" href="../css/menusAdicionados.css">
    <link rel="stylesheet" href="../css/load.css">
    <link rel="shortcut icon" href="../imgs/Penelope.png" type="image/x-icon">
    <title>Golden Maker&reg</title>
</head>

<body>
    <div id="loader">
        <div class="spinner">
            <img src="../imgs/animacao-santiago.gif" alt="Carregando...">
        </div>
    </div>
    
    <header>
        <div id="menu">
            <div>
                <a href="../index.html"><img src="../imgs/Penelope.png" alt="logo_golden_maker" class="penelope_img_header"></a>
            </div>

            <i class="material-symbols-outlined" id="hamburger" onclick="toggleMenu()">menu</i>

            <!-- Menu -->
            <menu id="navLinks">
                <ul>
                    <li><a href="../index.html">Inicio</a></li>
                    <li><a href="galeria.html">Galeria</a></li>
                    <li><a href="sobre-nos.html">Sobre-nós</a></li>
                </ul>
            </menu>
        </div>
    </header><br>

    <div id="icon">
        <img src="../imgs/download.jpeg" alt="icon" data-action="trocarFoto">
        <button data-action="menuEditar" id="btn-editar">Editar</button>
        <h3 data-action="trocarNome">@nick_name</h3>
    </div><br>

    <main id="configuracao_perfil">
        <section>
            <div></div>
            <p id="botao_publicar"><a href="publicacao_jogo.html">+ Publicar</a></p>
            <!--ir para a area de publicaçao dos jogos-->
        </section><br>
        <section>
            <form id="campo_novo_nome">
                <div class="nome">
                    <p>Novo nick:
                        <input type="text" name="novo_nick" id="nick" placeholder="@pelelope" required>
                        <!--campo para alterar o nome da conta-->
                        <input type="submit" value="Atualizar" id="atualizar_nome">
                    </p>
                </div>
                <br>
                <hr><br>
            </form>

            <form id="campo_nova_senha">
                <h3 id="nova_senha">Alterar Senha:</h3><br>
                <div class="senha"> <!--campo para alterar a senha da conta-->
                    <p>Senha Atual:
                        <input type="password" name="senhaAtual" id="senha" onclick="alternarSenha(this)"
                            data-visivel="false" required>
                    </p><br>
                    <p>Nova Senha:
                        <input type="password" name="nova_senha" id="senha2" onclick="alternarSenha(this)"
                            data-visivel="false" required>
                    </p><br>
                    <p>Confirme a Nova Senha:
                        <input type="password" id="confirmar" onclick="alternarSenha(this)"
                            data-visivel="false" required>
                    </p><br>
                    <input type="submit" value="Atualizar" id="atualizar">
                </div>
            </form>
            <button id="botao_logout" class="logout-btn">Logout</button>
            <p id="botao_excluir"><a href="exluir_jogo.html">+ excluir</a></p>
        </section>
    </main>

    <footer id="roda_pe">
        <h2>ARCANE <img src="../imgs/flor.png" alt="flor de lis"> BOOT</h2>
        <h5>adventure starts here</h5><br>
        <p>Acompanhe nossa <a href="https://sweet-aludra.github.io/TCC_empresa/index.html"
                class="link_empresa">empresa</a>!</p>
    </footer>

        <!-- menu de editar nick e foto de perfil-->
    <div id="modalEditarFoto" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Trocar Foto de Perfil</h2>
            <p>Clique na imagem para selecionar um novo arquivo.</p>
            
            <img src="../imgs/download.jpeg" alt="Preview da nova foto" id="previewNovaFoto" class="modal-preview-img">
            
            <input type="file" id="inputNovaFoto" accept="image/*" style="display: none;">
            
            <div class="modal-actions">
                <button id="btnCancelarEdicao">Cancelar</button>
                <button id="btnConfirmarEdicao">Confirmar</button>
            </div>
        </div>
    </div>

    <div id="toast-notification" class="toast"></div>

    <script>
        //tela de carregamento
        window.addEventListener("load", () => {
            const loader = document.getElementById("loader");

            setTimeout(() => {
                loader.style.opacity = "0";

                setTimeout(() => {
                    loader.style.display = "none";
                }, 400);
            }, 1000); // 1 segundos visível
        });

        // configuraçao do menu(nav)
        const hamburger = document.getElementById("hamburger");
        const navLinks = document.getElementById("navLinks");

        hamburger.addEventListener("click", () => {
            navLinks.classList.toggle("active");
        });

        // configuraçao para ocultar senha
        function alternarSenha(input) {
            // Pega a posição atual do cursor
            const start = input.selectionStart
            const end = input.selectionEnd

            // Verifica se está visível
            const visivel = input.getAttribute("data-visivel") === "true"

            // Alterna o tipo
            input.type = visivel ? "password" : "text"
            input.setAttribute("data-visivel", !visivel)

            // Restaura a posição do cursor
            requestAnimationFrame(() => {
                input.setSelectionRange(start, end)
            })
        }
    </script>
    <script src="../js/tela/fetch.js" type="module"></script>
    <script src="../js/logica/tela_perfil.js" type="module"></script>
</body>

</html>